!function(){"use strict";angular.module("ionic-multiselect",[]).filter("translateItem",["$injector","$parse",function(e,t){return function(a,n){var r;try{var r=e.get("$filter"),l=t("item."+n.valueProperty),i=l(n);return r("translate")(n.indexTranslate+i)}catch(o){return""}}}]).filter("showTextData",["$injector",function(e){return function(t,a){var n;try{var n=e.get("$filter")}catch(r){}var l=[];if(t.indexOf("^")>-1){l=t.split("^"),l=l.filter(Boolean);for(var i=l.length,o=0;i>o;o++){if(a.isTranslate)var u=n("translate")(a.indexTranslate+l[o].trim());else var u=l[o].trim();l[o]=u}}else a.isTranslate?l.push(n("translate")(a.indexTranslate+t.trim())):l.push(t);return 0==l.length?"":l}}]).provider("multiselect",function(){this.setModalTemplateUrl=function(e){this.modalTemplateUrl=e},this.setTemplateUrl=function(e){this.templateUrl=e},this.$get=function(){return this}}).directive("multiselect",["$ionicModal","multiselect",function(e,t){return{restrict:"E",template:function(e,a){return a.templateUrl||t.templateUrl?"<ng-include src=\"'"+(a.templateUrl||t.templateUrl)+"'\"></ng-include>":""},scope:{items:"=",valueChangedCallback:"&valueChanged",getCustomTextCallback:"&getCustomText"},link:function(a,n,r){a.headerText=r.headerText||"",a.text=r.text||"",a.defaultText=r.text||"",a.checkedProperty=r.checkedProperty||"checked",a.textProperty=r.textProperty||"text",a.valueProperty=r.valueProperty||"id",a.isTranslate="true"===r.isTranslate||!1,a.indexTranslate=r.indexTranslate||"",a.modalTemplateUrl=r.modalTemplateUrl||t.modalTemplateUrl,a.modalAnimation=r.modalAnimation,a.noteText=r.noteText||"",a.modalTemplateUrl?e.fromTemplateUrl(a.modalTemplateUrl,{scope:a,animation:a.modalAnimation}).then(function(e){a.modal=e}):a.modal=e.fromTemplate("",{scope:a,animation:a.modalAnimation}),a.$on("$destroy",function(){a.modal.remove()}),a.getItemText=function(e){return a.textProperty?e[a.textProperty]:e},a.getItemValue=function(e){return a.valueProperty?e[a.valueProperty]:e},a.getText=function(e){var t=e?e:[],n="";return t.length?angular.forEach(a.items,function(e,r){for(var l=0;l<t.length;l++)if(a.getItemValue(e)==t[l]){n+=a.isTranslate?(n.length?"^":"")+a.getItemValue(e):(n.length?"^":"")+a.getItemText(e);break}}):n=a.defaultText,n.length||a.isTranslate||(n=a.defaultText),a.isTranslate&&""==n.trim()&&(n="^"),a.getCustomTextCallback({value:e})||n},a.hideItems=function(e){a.modal.hide()},a.onCheckValueChanged=function(e,t){"undefined"!=typeof e&&a.valueChangedCallback({value:e})},a.onValueChanged=function(e,t){a.text=a.getText(e)},a.showItems=function(e){e.preventDefault(),a.modal.show()},a.validate=function(){a.fetchCheckedItems(),a.hideItems()},a.fetchCheckedItems=function(){if(a.value=[],a.items){var e=[];angular.forEach(a.items,function(t,n){t[a.checkedProperty]?(a.value[n]=a.getItemValue(t),e.push(t)):a.value[n]=""}),a.itemChecked=e}},a.$watch(function(){return a.itemChecked},a.onCheckValueChanged,!0),a.$watch(function(){return a.value},a.onValueChanged,!0),a.$watch(function(){return a.items},a.fetchCheckedItems,!0)}}}])}();