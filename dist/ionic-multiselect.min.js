!function(){"use strict";angular.module("ionic-multiselect",[]).filter("translateItem",["$injector","$parse",function(e,t){return function(a,n){var r;try{var r=e.get("$filter"),l=t("item."+n.valueProperty),o=l(n);return r("translate")(n.indexTranslate+o)}catch(i){return""}}}]).filter("showTextData",["$injector",function(e){return function(t,a){var n;try{var n=e.get("$filter")}catch(r){}var l=[];if(t.indexOf("-")>-1){l=t.split("-"),l=l.filter(Boolean);for(var o=l.length,i=0;o>i;i++){if(a.isTranslate)var u=n("translate")(a.indexTranslate+l[i].trim());else var u=l[i].trim();l[i]=u}}else l.push(t);return 0==l.length?"":l}}]).directive("multiselect",["$ionicModal",function(e){return{restrict:"E",template:function(e,t){return t.templateUrl?"<ng-include src=\"'"+t.templateUrl+"'\"></ng-include>":""},scope:{items:"=",value:"=",valueChangedCallback:"&valueChanged",getCustomTextCallback:"&getCustomText"},link:function(t,a,n){t.headerText=n.headerText||"",t.text=n.text||"",t.defaultText=n.text||"",t.checkedProperty=n.checkedProperty||"checked",t.textProperty=n.textProperty||"text",t.valueProperty=n.valueProperty||"id",t.isTranslate="true"===n.isTranslate||!1,t.indexTranslate=n.indexTranslate||"",t.modalTemplateUrl=n.modalTemplateUrl,t.modalAnimation=n.modalAnimation,t.noteText=n.noteText||"",t.modalTemplateUrl?e.fromTemplateUrl(t.modalTemplateUrl,{scope:t,animation:t.modalAnimation}).then(function(e){t.modal=e}):t.modal=e.fromTemplate("",{scope:t,animation:t.modalAnimation}),t.$on("$destroy",function(){t.modal.remove()}),t.getItemText=function(e){return t.textProperty?e[t.textProperty]:e},t.getItemValue=function(e){return t.valueProperty?e[t.valueProperty]:e},t.getText=function(e){var a=e?e:[],n="";return a.length?angular.forEach(t.items,function(e,r){for(var l=0;l<a.length;l++)if(t.getItemValue(e)==a[l]){n+=t.isTranslate?(n.length?"-":"")+t.getItemValue(e):(n.length?"-":"")+t.getItemText(e);break}}):n=t.defaultText,t.getCustomTextCallback({value:e})||n},t.hideItems=function(e){t.modal.hide()},t.onValueChanged=function(e,a){t.text=t.getText(e),t.valueChangedCallback({value:t.text})},t.showItems=function(e){e.preventDefault(),t.modal.show()},t.validate=function(e){t.value=[],t.items&&angular.forEach(t.items,function(e,a){e[t.checkedProperty]?t.value[a]=t.getItemValue(e):t.value[a]=""}),t.hideItems()},t.$watch(function(){return t.value},t.onValueChanged,!0)}}}])}();